{% extends 'base.html.twig' %}

{% block title %}Editar dados cadastrais{% endblock %}

{% block body %}

    <div class="container">
        <h2>Editar dados cadastrais</h2> <br>

        <form action="/cooperado/salvar" method="POST" name="form1" class="needs-validation" id="form-cooperado" novalidate>
            {% for cooperado in cooperados %}
                <div class="form-row">
                    <div class="col-md-4 mb-3">
                        <label for="validationCustom01">Nome</label>
                        <input name="nome" type="text" class="form-control" id="validationCustom01" placeholder="Nome completo" value="{{ cooperado.getNome() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="validationCustom02">Estado civil</label>
                        <select name="estadoCivil" class="form-control">
                            <!-- <option value="" selected disabled>Selecione</option> -->
                            <option value="Solteiro" {{ cooperado.getEstadoCivil() == 'Solteiro' ? 'selected' : '' }}>Solteiro</option>
                            <option value="Casado" {{ cooperado.getEstadoCivil() == 'Casado' ? 'selected' : '' }}>Casado</option>
                            <option value="União Estável" {{ cooperado.getEstadoCivil() == 'União Estável' ? 'selected' : '' }}>União Estável</option>
                            <option value="Divorciado" {{ cooperado.getEstadoCivil() == 'Divorciado' ? 'selected' : '' }}>Divorciado</option>
                            <option value="Viúvo" {{ cooperado.getEstadoCivil() == 'Viúvo' ? 'selected' : '' }}>Viúvo</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom03">Sexo</label>
                        <select name="sexo" id="" class="form-control">
                            <!-- <option value="" selected disabled>Selecione</option> -->
                            <option value="Masculino" {{ cooperado.getSexo() == 'Masculino' ? 'selected' : '' }}>Masculino</option>
                            <option value="Feminino" {{ cooperado.getSexo() == 'Feminino' ? 'selected' : '' }}>Feminino</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom04">Data de nascimento</label>
                        <input class="form-control" type="date" name="dataNascimento" id="" value="{{ cooperado.getDataNascimento()|date('Y-m-d') }}">
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom05">Raça/cor</label>
                        <select name="racaCor" class="custom-select">
                            <!-- <option selected disabled>Selecione</option> -->
                            <option value="Branco" {{ cooperado.getRacaCor() == 'Branco' ? 'selected' : '' }}>Branco</option>
                            <option value="Negro" {{ cooperado.getRacaCor() == 'Negro' ? 'selected' : '' }}>Negro</option>
                            <option value="Pardo" {{ cooperado.getRacaCor() == 'Pardo' ? 'selected' : '' }}>Pardo</option>
                            <option value="Amarelo" {{ cooperado.getRacaCor() == 'Amarelo' ? 'selected' : '' }}>Amarelo</option>
                            <option value="Indígena" {{ cooperado.getRacaCor() == 'Indígena' ? 'selected' : '' }}>Indígena</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom06">Necessidades especiais</label>
                        <select name="necessidadeEspecial" class="custom-select">
                            <!-- <option selected disabled>Selecione</option> -->
                            <option value="Não possui" {{ cooperado.getNecessidadeEspecial() == 'Não possui' ? 'selected' : '' }}>Não possui</option>
                            <option value="Física" {{ cooperado.getNecessidadeEspecial() == 'Física' ? 'selected' : '' }}>Física</option>
                            <option value="Visual" {{ cooperado.getNecessidadeEspecial() == 'Visual' ? 'selected' : '' }}>Visual</option>
                            <option value="Auditiva" {{ cooperado.getNecessidadeEspecial() == 'Auditiva' ? 'selected' : '' }}>Auditiva</option>
                            <option value="Mental" {{ cooperado.getNecessidadeEspecial() == 'Mental' ? 'selected' : '' }}>Mental</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <hr class="col-md-11 mb-3">

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom07">CPF</label>
                        <input name="cpf" type="text" class="form-control" id="validationCustom04" placeholder="" value="{{ cooperado.getCpf() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom08">RG</label>
                        <input name="rg" type="text" class="form-control" id="validationCustom04" placeholder="" value="{{ cooperado.getRg() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom09">Órgão expedidor</label>
                        <input name="orgaoExpedidorRg" type="text" class="form-control" id="validationCustom04" placeholder="Digite a sigla" value="{{ cooperado.getOrgaoExpedidorRg() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom10">Data da expedição</label>
                        <input name="dataExpedicaoRg" class="form-control" type="date" name="dataNascimento" id="" value="{{ cooperado.getDataExpedicaoRg()|date('Y-m-d') }}">
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom11">Naturalidade</label>
                        <input name="naturalidade" type="text" class="form-control" id="validationCustom11" placeholder="Cidade onde nasceu" value="{{ cooperado.getNaturalidade() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom12">Nacionalidade</label>
                        <input name="nacionalidade" type="text" class="form-control" id="validationCustom12" placeholder="País onde nasceu" value="{{ cooperado.getNacionalidade() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <hr class="col-md-11 mb-3">

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom13">Nome do pai</label>
                        <input name="nomePai" type="text" class="form-control" id="validationCustom13" placeholder="Nome completo" value="{{ cooperado.getNomePai() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom14">Nome da mãe</label>
                        <input name="nomeMae" type="text" class="form-control" id="validationCustom14" placeholder="Nome completo" value="{{ cooperado.getNomeMae() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom15">Renda familiar</label>
                        <select name="rendaFamiliar" class="custom-select">
                            <option selected disabled>Selecione</option>
                            <option value="Até 1.000 reais" {{ cooperado.getRendaFamiliar() == 'Até 1.000 reais' ? 'selected' : '' }}>Até 1.000 reais</option>
                            <option value="De 1.001 a 2.000 reais" {{ cooperado.getRendaFamiliar() == 'De 1.001 a 2.000 reais' ? 'selected' : '' }}>De 1.001 a 2.000 reais</option>
                            <option value="De 2.001 a 3.000 reais" {{ cooperado.getRendaFamiliar() == 'De 2.001 a 3.000 reais' ? 'selected' : '' }}>De 2.001 a 3.000 reais</option>
                            <option value="De 3.001 a 4.000 reais" {{ cooperado.getRendaFamiliar() == 'De 3.001 a 4.000 reais' ? 'selected' : '' }}>De 3.001 a 4.000 reais</option>
                            <option value="De 4.001 a 5.000 reais" {{ cooperado.getRendaFamiliar() == 'De 4.001 a 5.000 reais' ? 'selected' : '' }}>De 4.001 a 5.000 reais</option>
                            <option value="Acima de 5.001 reais" {{ cooperado.getRendaFamiliar() == 'Acima de 5.001 reais' ? 'selected' : '' }}>Acima de 5.001 reais</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <hr class="col-md-11 mb-3">

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom13">Matrícula</label>
                        <input name="matricula" type="text" class="form-control" id="validationCustom13" placeholder="Matrícula acadêmica" value="{{ cooperado.getMatricula() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom16">Curso matriculado</label>
                        <select name="curso" class="custom-select">
                            <!-- <option selected disabled>Selecione</option> -->
                            {% for curso in cursos %}
                                <option value="{{ curso.getId() }}" {{ curso.getId() == '{{ curso.getId() }}' ? 'selected' : '' }}>{{ curso.getNome() }}</option>
                            {% endfor %}
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom17">Turma</label>
                        <select name="turma" class="custom-select">
                            <!-- <option selected disabled>Selecione</option> -->
                            <option value="2010/1" {{ cooperado.getTurma() == '2010/1' ? 'selected' : '' }}>2010/1</option>
                            <option value="2010/2" {{ cooperado.getTurma() == '2010/2' ? 'selected' : '' }}>2010/2</option>
                            <option value="2011/1" {{ cooperado.getTurma() == '2011/1' ? 'selected' : '' }}>2011/1</option>
                            <option value="2011/2" {{ cooperado.getTurma() == '2011/2' ? 'selected' : '' }}>2011/2</option>
                            <option value="2012/1" {{ cooperado.getTurma() == '2012/1' ? 'selected' : '' }}>2012/1</option>
                            <option value="2012/2" {{ cooperado.getTurma() == '2012/2' ? 'selected' : '' }}>2012/2</option>
                            <option value="2013/1" {{ cooperado.getTurma() == '2013/1' ? 'selected' : '' }}>2013/1</option>
                            <option value="2013/2" {{ cooperado.getTurma() == '2013/2' ? 'selected' : '' }}>2013/2</option>
                            <option value="2014/1" {{ cooperado.getTurma() == '2014/1' ? 'selected' : '' }}>2014/1</option>
                            <option value="2014/2" {{ cooperado.getTurma() == '2014/2' ? 'selected' : '' }}>2014/2</option>
                            <option value="2015/1" {{ cooperado.getTurma() == '2015/1' ? 'selected' : '' }}>2015/1</option>
                            <option value="2015/2" {{ cooperado.getTurma() == '2015/2' ? 'selected' : '' }}>2015/2</option>
                            <option value="2016/1" {{ cooperado.getTurma() == '2016/1' ? 'selected' : '' }}>2016/1</option>
                            <option value="2016/2" {{ cooperado.getTurma() == '2016/2' ? 'selected' : '' }}>2016/2</option>
                            <option value="2017/1" {{ cooperado.getTurma() == '2017/1' ? 'selected' : '' }}>2017/1</option>
                            <option value="2017/2" {{ cooperado.getTurma() == '2017/2' ? 'selected' : '' }}>2017/2</option>
                            <option value="2018/1" {{ cooperado.getTurma() == '2018/1' ? 'selected' : '' }}>2018/1</option>
                            <option value="2018/2" {{ cooperado.getTurma() == '2018/2' ? 'selected' : '' }}>2018/2</option>
                            <option value="2019/1" {{ cooperado.getTurma() == '2019/1' ? 'selected' : '' }}>2019/1</option>
                            <option value="2019/2" {{ cooperado.getTurma() == '2019/2' ? 'selected' : '' }}>2019/2</option>
                            <option value="2020/1" {{ cooperado.getTurma() == '2020/1' ? 'selected' : '' }}>2020/1</option>
                            <option value="2020/2" {{ cooperado.getTurma() == '2020/2' ? 'selected' : '' }}>2020/2</option>
                            <option value="2021/1" {{ cooperado.getTurma() == '2021/1' ? 'selected' : '' }}>2021/1</option>
                            <option value="2021/2" {{ cooperado.getTurma() == '2021/2' ? 'selected' : '' }}>2021/2</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom18">Grau de escolaridade completo</label>
                        <select name="escolaridade" class="custom-select">
                            <option selected disabled>Selecione</option>
                            <option value="Primeiro grau" {{ cooperado.getEscolaridade() == 'Primeiro grau' ? 'selected' : '' }}>Primeiro grau</option>
                            <option value="Segundo grau" {{ cooperado.getEscolaridade() == 'Segundo grau' ? 'selected' : '' }}>Segundo grau</option>
                            <option value="Terceiro grau" {{ cooperado.getEscolaridade() == 'Terceiro grau' ? 'selected' : '' }}>Terceiro grau</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <hr class="col-md-11 mb-3">

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom19">Rua</label>
                        <input name="rua" type="text" class="form-control" id="validationCustom19"
                            placeholder="Nome completo da rua e nº da residência" value="{{ cooperado.getRua() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom20">Bairro</label>
                        <input name="bairro" type="text" class="form-control" id="validationCustom20"
                            placeholder="Bairro, distrito ou localidade" value="{{ cooperado.getBairro() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom21">Cidade</label>
                        <input name="cidade" type="text" class="form-control" id="validationCustom21" placeholder="" value="{{ cooperado.getCidade() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom22">CEP</label>
                        <input name="cep" type="text" class="form-control" id="validationCustom22" placeholder="CEP ou Caixa Postal"value="{{ cooperado.getCep() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom23">Estado</label>
                        <select name="estado" class="custom-select">
                            <option selected disabled>Selecione</option>
                            <option {{ cooperado.getEstado() == 'Acre' ? 'selected' : '' }} value="Acre">Acre</option>
                            <option {{ cooperado.getEstado() == 'Alagoas' ? 'selected' : '' }} value="Alagoas">Alagoas</option>
                            <option {{ cooperado.getEstado() == 'Amapá' ? 'selected' : '' }} value="Amapá">Amapá</option>
                            <option {{ cooperado.getEstado() == 'Amazonas' ? 'selected' : '' }} value="Amazonas">Amazonas</option>
                            <option {{ cooperado.getEstado() == 'Bahia' ? 'selected' : '' }} value="Bahia">Bahia</option>
                            <option {{ cooperado.getEstado() == 'Ceará' ? 'selected' : '' }} value="Ceará">Ceará</option>
                            <option {{ cooperado.getEstado() == 'Distrito Federal' ? 'selected' : '' }} value="Distrito Federal">Distrito Federal</option>
                            <option {{ cooperado.getEstado() == 'Espírito Santo' ? 'selected' : '' }} value="Espírito Santo">Espírito Santo</option>
                            <option {{ cooperado.getEstado() == 'Goiás' ? 'selected' : '' }} value="Goiás">Goiás</option>
                            <option {{ cooperado.getEstado() == 'Maranhão' ? 'selected' : '' }} value="Maranhão">Maranhão</option>
                            <option {{ cooperado.getEstado() == 'Mato Grosso' ? 'selected' : '' }} value="Mato Grosso">Mato Grosso</option>
                            <option {{ cooperado.getEstado() == 'Mato Grosso do Sul' ? 'selected' : '' }} value="Mato Grosso do Sul">Mato Grosso do Sul</option>
                            <option {{ cooperado.getEstado() == 'Minas Gerais' ? 'selected' : '' }} value="Minas Gerais">Minas Gerais</option>
                            <option {{ cooperado.getEstado() == 'Pará' ? 'selected' : '' }} value="Pará">Pará</option>
                            <option {{ cooperado.getEstado() == 'Paraíba' ? 'selected' : '' }} value="Paraíba">Paraíba</option>
                            <option {{ cooperado.getEstado() == 'Paraná' ? 'selected' : '' }} value="Paraná">Paraná</option>
                            <option {{ cooperado.getEstado() == 'Pernambuco' ? 'selected' : '' }} value="Pernambuco">Pernambuco</option>
                            <option {{ cooperado.getEstado() == 'Piauí' ? 'selected' : '' }} value="Piauí">Piauí</option>
                            <option {{ cooperado.getEstado() == 'Rio de Janeiro' ? 'selected' : '' }} value="Rio de Janeiro">Rio de Janeiro</option>
                            <option {{ cooperado.getEstado() == 'Rio Grande do Norte' ? 'selected' : '' }} value="Rio Grande do Norte">Rio Grande do Norte</option>
                            <option {{ cooperado.getEstado() == 'Rio Grande do Sul' ? 'selected' : '' }} value="Rio Grande do Sul">Rio Grande do Sul</option>
                            <option {{ cooperado.getEstado() == 'Rondônia' ? 'selected' : '' }} value="Rondônia">Rondônia</option>
                            <option {{ cooperado.getEstado() == 'Roraima' ? 'selected' : '' }} value="Roraima">Roraima</option>
                            <option {{ cooperado.getEstado() == 'Santa Catarina' ? 'selected' : '' }} value="Santa Catarina">Santa Catarina</option>
                            <option {{ cooperado.getEstado() == 'São Paulo' ? 'selected' : '' }} value="São Paulo">São Paulo</option>
                            <option {{ cooperado.getEstado() == 'Sergipe' ? 'selected' : '' }} value="Sergipe">Sergipe</option>
                            <option {{ cooperado.getEstado() == 'Tocantins' ? 'selected' : '' }} value="Tocantins">Tocantins</option>
                        </select>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom24">E-mail</label>
                        <input name="email" type="email" class="form-control" id="validationCustom24" placeholder="" value="{{ cooperado.getEmail() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom25">Telefone residencial</label>
                        <input name="telefoneResidencial" type="text" class="form-control tel" id="validationCustom25" placeholder="" value="{{ cooperado.getTelefoneResidencial() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="validationCustom26">Telefone celular</label>
                        <input name="telefoneCelular" type="text" class="form-control tel" id="validationCustom26" placeholder="" value="{{ cooperado.getTelefoneCelular() }}" required>
                        <div class="valid-feedback">
                            Ótimo!
                        </div>
                        <div class="invalid-feedback">
                            Este campo não pode ficar em branco.
                        </div>
                    </div>
                </div>

                <div class="form-group form-check d-flex justify-content-between align-items-center">
                    <a href="/cooperado/lista" class="btn btn-secondary" type="">Cancelar</a>
                    <button class="btn btn-success" type="submit" name="enviar" id="enviar">Concluir edição</button>
                </div>
            {% endfor %}
        </form>

        <br>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();

        $(document).ready(function(){
            $('#enviar').click(function(){
                //  Swal.fire(
                //     'Good job!',
                //     'You clicked the button!',
                //     'success'
                // );

                Swal.fire({
                    title: 'Confirmado!',
                    text: 'Cooperado cadastrado com sucesso!',
                    onOpen: function(){
                        setTimeout(() => {
                            $('#form-cooperado').submit();
                        }, 3000);
                    }
                });
            });
        });
        
        /* Máscara para input de telefone */
        var MaskBehavior = function (val) {
            return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00000';
        },
        
        Options = {
            onKeyPress: function (val, e, field, options) {
                field.mask(MaskBehavior.apply({}, arguments), options);
            }
        };

        $('.tel').mask(MaskBehavior, Options);

    </script>
{% endblock %}