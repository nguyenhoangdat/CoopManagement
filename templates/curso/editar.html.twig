{% extends 'base.html.twig' %}

{% block title %}Editar curso{% endblock %}

{% block body %}

    <div class="container">
        <h2>Editar curso</h2>

        <hr class="col-md-12 mb-3">

        <nav class="nav">
            <a class="nav-link active" href="/curso">Cursos</a>
            <a class="nav-link" href="/curso/cadastrar">Cadastrar curso</a>
            <a class="nav-link" href="/usuario">Voltar</a>
        </nav>

        <form action="/curso/salvar" method="POST" name="form1" id="form-curso">
            {% for curso in cursos %}
                <div class="col-md-5 mb-3">
                    <label for="nome" name="nome">Novo nome do curso</label>
                    <input type="text" name="nome" class="form-control" id="" placeholder="" value="{{ curso.getNome() }}" required>
                </div>
                
                <div class="col-md-5 mb-3">
                    <label for="grau" name="grau">Grau acadêmico</label>
                    <select class="form-control" name="grau" required>
                        <option value="Técnico" {{ curso.getGrau() == 'Técnico' ? 'selected' : '' }}>Técnico</option>
                        <option value="Superior" {{ curso.getGrau() == 'Superior' ? 'selected' : '' }}>Superior</option>
                    </select>
                </div>
                <br>
                <div class="form-group form-check d-flex justify-content-start align-items-center">
                    <a href="/curso" class="btn btn-secondary">Voltar</a>&nbsp;
                    <button id="btn-confirmar" type="button" class="btn btn-success">Confirmar</button>
                </div>
            {% endfor %}
        </form>
    </div>

{% endblock %}

{% block javascripts %}
    <script>

        $(document).ready(function(){
            $('#btn-confirmar').click(function(){
                //  Swal.fire(
                //     'Good job!',
                //     'You clicked the button!',
                //     'success'
                // );

                Swal.fire({
                    title: 'Confirmado!',
                    text: 'Curso cadastrado com sucesso!',
                    onOpen: function(){
                        setTimeout(() => {
                            $('#form-curso').submit();
                        }, 1000);
                    }
                });
            });
        });

    </script>
{% endblock %}